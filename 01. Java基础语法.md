## Java基础语法

### 基础语法

- Java语言严格**区分大小写**，好比main和Main是完全不同的概念。
- **一个Java源文件里可以定义多个Java类，但其中最多只能有一个类被定义成public类**。若源文件中包括了public类，源文件必须和该public类同名。
- 一个源文件中包含N个Java类时，成功编译后会生成N份字节码文件，即每个类都会生成一份单独的class文件，且**字节码文件名和其对应的类名相同**。
- 若一个类必须运行，则必须拥有main方法,因为**main方法是程序的入口**.

### 类型和运算

#### 常量和变量

##### 常量

```
常量分类:
- 字面值常量:比如：整数常量1，2，3，小数常量3.14，布尔常量false，true等。
- 字面量,就表示直接给出的一个值(可以是整数,小数,true,false等等), 直接量.
- 定义的final变量
```

##### 变量

变量的定义

```
先定义变量,再赋值:
		数据类型  变量名;
		变量名 = 值;
	或在声明时同时赋值:
	数据类型  变量名  =  初始化值；
```

变量分类

```
随着变量定义在类中的位置不同，故把变量分成两大类：
	成员变量：直接定义在类里的变量，又称为全局变量或字段。
	局部变量：变量除了成员变量之外，其他就是局部变量。根据定义的位置不同有3种表现形式：方法形参，方法内变量，代码块变量。
```

#### 数据类型

##### 数据类型和分类

```
1. 基本数据类型/原生数据类型, 共8个:
	- 数值型:
		- 整数类型:byte,short,int,long, 不同的整数类型在内存占用的内存空间大小是不一样的.
		- 小数类型:float,double.
	- 字符型:char,什么是字符,字母/符号.
	- 布尔型:boolean,表示对与错.true,false.

2. 引用数据类型/对象数据类型: 类/接口/数组
```

#### 基本数据类型转换

在8大基本数据类型中,boolean不属于数值类型,不参与转换.

**自动类型转换**

```
自动类型转换，也称为“隐式"类型转换:
当把小数据范围类型的数值或变量赋给另一个大数据范围类型变量，系统可以完成自动类型转型。
```

**强制类型转换**

```
强制类型转换，也称为“显示类型转换”:
当把大范围类型的数值或变量赋给另一个小范围类型变量时，此时系统不能自动完成转换，需要加上强制转换符，但这样的操作可能造成数据精度的降低或溢出，所以使用时要格外注意。
强制类型转换，可能造成溢出和精度损失。
```

**表达式类型的自动提升**

当一个算术表达式中包含多个基本数据类型(boolean除外)的值时，整个算术表达式的数据类型将在数据运算时出现类型自动提升

整个表达式的最终结果类型被提升到表达式中类型最高的类型.

String和任意数据使用 + 连接起来,结果都是String(字符串).

#### 运算符

```
算术运算符
赋值运算符
比较运算符
三元运算符
逻辑运算符
位运算符
运算符的操作优先级
```

### 流程语句

#### 顺序结构

如果代码里没有流程控制，程序是按照书写的格式从上而下一行一行执行的，
一条语句执行完之后继续执行下一条语句，中间没有判断和跳转，直到程序的结束。

#### 选择结构

if语句

switch语句

```
switch语句选择支持
- 数据类型：byte、short、char、int，没有long。
- 引用类型: 以上基本数据类型的包装类，依次是Byte、Short、Character、Integer
- Java5开始支持的枚举和Java7开始支持的String类。
```

#### 循环结构

```
1):while语句
2):do while语句
3):for语句
```

#### 控制循环结构语句

```
break:终止当前所在的循环. stop
continue语句: 继续的意思. skip. 跳过当前的循环,进入下一次循环操作.
return:表示结束循环所在的方法，方法都结束了，循环结构自然也就结束了。
```

##### 控制外层循环:

使用**标签**，给某个循环起的别名, 在break或continue后面跟上循环的别名来控制外层循环

```java
class LoopDemo {
	public static void main(String[] args) {
		outter:for(int line = 1; line<=9; line++) {
			for(int i = 1; i <= line; i++) {
				if (line == 5) {
					break outter; //结束当前循环
				}
			}
		}
	}
}
```

### 方法和数组

#### 方法

方法的定义和调用

```java
[修饰符]  返回值的类型  方法名称([形式参数,....]) {
	方法体
	[return 值];
}

public static void main(String[] args) {
      //TODO
}
```

```
修饰符:public,static等,static修饰的方法属于类,直接使用类名调用即可,现在都使用static修饰.

返回值类型: 方法其实是在完成一个功能,该功能操作完毕之后,是否需要给调用者返回一个结果.如果不需要给调用者返回结果,此时使用关键字void来声明,无返回的意思.

方法名称:遵循标识符的规范,使用动词表示,首字母小写,若是多个单词组成,使用驼峰表示法,以后的每一个单词首字母都大写,getEmployeeName.

形式参数:方法圆括号中的变量,仅仅只是占位而已,参数的名称其实无所谓,形式参数可以有多个.
   参数列表:参数列表 == 参数的类型 + 参数的个数  + 参数的顺序.
   方法签名:方法签名 == 方法名称  +  方法参数列表;
                       在同一个类中,方法签名是唯一的,否则编译报错.
   方法体:方法的{}中的代码,表示具体完成该功能的代码.
   返回值: 在方法内部,使用return关键字;
                           功能1:给调用者返回一个结果值,此时该方法不能使用void修饰.
                           功能2:结束当前方法.
实际参数:调用者在调用某一个具体方法的时候,实际传递的参数值.

方法的调用者:在哪里调用某一个方法,那么哪里就是该方法的调用者.
```

方法重载

```
方法的重载设计(overload):
重载方法的定义是在同一个类中，某方法允许存在一个以上的同名方法，只要它们的参数列表不同即可。

同类中，方法名相同；
方法参数列表不同（参数类型、参数个数、参数顺序）；
只要参数类型,参数个数,参数顺序有一个不同,参数列表就不同.

方法重载的作用：屏蔽了同一功能的方法由于参数不同所造成方法名称不同。
```

```java
static int getSum(int x, int y) {
	return x + y;
}

static int getSum(double x, double y) {
	return x + y;
}
```

#### JVM内存模型
JVM内存划分

```
程序计数器：当前线程所执行的字节码的行号指示器。
本地方法栈：为虚拟机使用的native方法服务。

Java虚拟机栈：描述Java方法执行的内存模型，每个方法被执行的时候都会同时创建一个栈帧用于存储局部变量表、操作栈、动态链接、方法出口等信息。
     每一个方法,创建一个栈帧,,栈帧存放了当前方法的数据信息(局部变量),当方法调用完毕,该方法的栈帧就被销毁了.

Java堆：被所有线程共享的一块内存区域，在虚拟机启动时创建。所有的对象实例以及数组都要在堆上分配(使用new关键字,就表示在堆中开辟一块新的存储空间)。

方法区：线程共享的内存区域，存储已被虚拟机加载的类信息、常量、静态变量即时编译器编译后的代码数据等(这个区域的内存回收目标主要是针对常量池的回收和对类型的卸载)。
```
GC(Garbage Collection):垃圾回收器。

```
Java的自动垃圾回收机制:简单理解为,
程序员就不需要再手动的去控制内存的释放。当JVM发觉内存资源紧张的时候，就会自动地去清理无用对象（没有被引用到的对象）所占用的内存空间。
```

#### 数组

数组的定义

```java
方式1: 数组元素的类型[] 数组名;   
int[] ages; 可以吧int[]看成是一种数据类型,int类型的数组类型.

方式2:数组元素的类型  数组名[];    
int ages[];
```

##### 数组初始化

```
Java中数组必先初始化后才能使用，所谓初始化就是给数组元素分配内存，并为每个元素赋初始值。

- 静态初始化；
- 动态初始化；

一旦初始化完成， 数组的长度就固定了，不能改变，除非重新初始化。也就是说数组是定长的。
```

静态初始化操作

```java
我们自己来为每一个数组元素设置初始化值,而数组的长度由系统(JVM)决定

语法:
数组元素类型[] 数组名 = new 数组元素类型[]{元素1,元素2,元素3,.......};

举例:
int[] nums = new int[]{1,3,5,7,9};
int[] nums = {1,3,5,7,9}; //必须声明之后,立刻初始化
```

动态初始化操作

```java
我们来设置数组的元素个数(数组长度),而每一个数组元素的初始值有系统决定

语法:
数组元素类型[] 数组名 = new 数组元素类型[length];

举例:
int[] ages = new int[100];
```

##### 数组基本操作

基本操作

```java
获取元素: 元素类型 变量 = 数组名[index];
设置元素: 数组名[index] = 值;
遍历数组元素: 建议使用for循环,事先知道循环的次数.
数组长度: int len = 数组名.length; length是属性, 不是方法.
索引范围: 从0开始,逐一递增. [0,数组名.length-1]

获取数组最大最小元素(getMax,getMin).
```
常见异常

```
NullPointerException:空指针异常(空引用).
当数组还未初始化,就直接操作数组.
String[] bs = null;
System.out.println(bs.length)
        
ArrayIndexOutOfBoundsException:数组的索引越界异常.
```

### 数组高级

#### 多维数组

```java
语法:
数组元素类型[] 数组名;

举例:
int[] arr1 = {1,2,3};
int[] arr2 = {4,5};
int[] arr3 = {6};

int[][] arr = new int[][] {
	arr1 ,arr2,arr3
};

int[][] arr = new int[][] {
	{1,2,3} ,
	{4,5},
	{6}
};
```

初始化

```java
静态初始化:
int[][] arr = new int[][]   {
	{1,2,3} ,
	{4,5},
	{6}
};
动态初始化:
int[][] arr = new int[3][5]; //创建一个长度为3的二维数组,每一个元素(一维数组)的长度为5.
int[][] arr = new int[0][5] 
-------------------------------------
针对于N维数组,需要N个循环嵌套.
```

#### Java5对数组的支持

增强for循环-foreach

```java
语法:
for(数组元素类型 变量 : 数组名) { 循环体 }

举例:
int[] nums = new int[]{10, 20, 30}
for(int ele : nums) { }
```

方法的可变参数

```java
// 方法的可变参数, 语法糖, 其底层是就是一个数组类型.
static double getSum(double ... arr) {
	double sum = 0.0;
	for(double price: arr) {
		sum += price;
	}
	return sum;
}

getSum(10.0, 20.0);
getSum(10.0, 20.0, 30.0);

```

可变参数必须作为方法的**最后一个参数**, 避免参数的歧义性. 一个方法最多只有一个可变参数.

#### 数组元素拷贝

```java
参数:
- src: 源数组
- srcPos: 源数组中的起始位置
- dest: 目标数组
- destPos: 目标数组中的其实位置
- length: 要复制的数组元素的数量

// 从指定源数组中复制一个数组, 复制从指定位置开始, 到目标数组的指定位置结束
static void arraycopy(Object src, int srcPos, Object dest, int destPos, int length)

System.arraycopy(src, 2, dest, 5, 4);
```

#### 数组算法

排序算法

```
选择排序（直接选择排序、堆排序）
交换排序(冒泡排序、快速排序)
插入排序（直接插入排序、二分法插入排序、Shell排序）
归并排序等。
```

搜索算法

```
数组的搜索算法:从指定数组中去搜索某一个元素的索引是多少.

方式1:线性搜索(从头搜到尾/从尾搜到头):indexOf/lastIndexOf
对于元素过多的数组,性能极低:有N个元素,循环次数= (N + 1) / 2;

方式2:二分搜索法/二分查找法/折半查找.
前提:数组元素必须有顺序.
```

#### Java自带数组工具类Arrays

```java
java.util.Arrays类:

//使用二分法查找数组里某元素并返回其索引，若找不到返回负数.
int binarySearch(type[] arr,type key)	

//使用调优后的快速法对指定数组排序。
void sort(type[] arr)

//返回指定数组内容的字符串表示形式。
String toString(type[] arr)	

//复制指定的数组，截取或用 0 填充（如有必要），以使副本具有指定的长度。
public static type[] copyOf(type[] original, int newLength)
```
